<div class="form-group time-selector">
    <select class="form-control" id="calendarTimeSelect" data-live-search="true">
    <% @can_selected_day.each do |t| %>
      <option><%= t %></option>
    <% end %>
    </select>
  </div>

<script>

$('#calendarTimeSelect').selectpicker();

function get_arrangements(day) {
  $.ajax({
    url: 'arrangments/' + day,
    method: 'get',
    type: 'json',
    success: function(data) {
      $('#calendarTimeSelect').val(day);
    },
    err: function() {
      alert('some error occurred')
    }
  });
}

$('#calendarTimeSelect').change(function() {
  get_arrangements($(this).val());
})

// setInterval(IntervalFun, 5000);

function IntervalFun() {
  day = $('#calendarTimeSelect').val();
  get_arrangements(day);
}

</script>